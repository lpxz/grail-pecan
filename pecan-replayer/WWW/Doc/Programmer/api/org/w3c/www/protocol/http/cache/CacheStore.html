<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_11) on Tue Apr 10 15:02:52 UTC 2007 -->
<TITLE>
CacheStore
</TITLE>

<META NAME="keywords" CONTENT="org.w3c.www.protocol.http.cache.CacheStore class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="CacheStore";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheState.html" title="class in org.w3c.www.protocol.http.cache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheSweeper.html" title="class in org.w3c.www.protocol.http.cache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/w3c/www/protocol/http/cache/CacheStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.w3c.www.protocol.http.cache</FONT>
<BR>
Class CacheStore</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>org.w3c.www.protocol.http.cache.CacheStore</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../../org/w3c/util/PropertyMonitoring.html" title="interface in org.w3c.util">PropertyMonitoring</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>CacheStore</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../../org/w3c/util/PropertyMonitoring.html" title="interface in org.w3c.util">PropertyMonitoring</A></DL>
</PRE>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#CACHE_DIRECTORY_P">CACHE_DIRECTORY_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property giving the cache's directory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#FILE_SIZE_RATIO_P">FILE_SIZE_RATIO_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property indicating the max size for files to be cached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#GARBAGE_COLLECTION_ENABLED_P">GARBAGE_COLLECTION_ENABLED_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property enabling garbage collection of the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#GARBAGE_COLLECTION_THRESHOLD_P">GARBAGE_COLLECTION_THRESHOLD_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property used to knkow the percentage of bytes to be
 kept after a garbage collection
 It defaults to 0.80 (80% of the cache size)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#GENERATION_COMPACT_DELAY_P">GENERATION_COMPACT_DELAY_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property indicating the amount of time in second between
 two attempts to compact generations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#GENERATION_FILENAME">GENERATION_FILENAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#MAX_CACHED_RESOURCES_P">MAX_CACHED_RESOURCES_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property indicating the maximal number of resources
 the cache can load in memory (not the content of the resources)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#MAX_GENERATIONS_P">MAX_GENERATIONS_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property indicating the maximal number of generations
 in this cache store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/w3c/util/ObservableProperties.html" title="class in org.w3c.util">ObservableProperties</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#props">props</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The properties we initialized ourself from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#STORE_SIZE_P">STORE_SIZE_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the properties indicating the storesize of the cache
 (in bytes).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#SYNCHRONIZATION_DELAY_P">SYNCHRONIZATION_DELAY_P</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the property indicating the amount of time in second between
 two synchronization of the database (aka dump on disk)
 Milliseconds</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#CacheStore()">CacheStore</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#addNewGeneration()">addNewGeneration</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create and add a new Generation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#checkDirs()">checkDirs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check the subdirectories.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#checkState()">checkState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used for debugging, display some internal information about the state 
 of the cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#cleanCacheDir()">cleanCacheDir</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean the Cache directory, remove unused files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#compactGenerations()">compactGenerations</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compact our generations
 The algorithm is the following,
 If the number of generation is the maximum number allowed, 
 then a check is done from the the generation after the MRU one
 and if the sum of two generation can fit into one, it is done, and
 the generation is removed from the list</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getCachedByteCount()">getCachedByteCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get the cached size of this cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getCachedByteFree()">getCachedByteFree</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get the number of bytes available for the cache memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getCachedResource(org.w3c.www.protocol.http.cache.CachedResource)">getCachedResource</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract a cached resource from the store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getCachedResource(java.lang.String)">getCachedResource</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a cached resource relative to the given URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getCachedResourceReference(java.lang.String)">getCachedResourceReference</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a cached resource relative to the given URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getCompactGenerationDelay()">getCompactGenerationDelay</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the delay between two attempts to compact the generations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getLRUGeneration()">getLRUGeneration</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the LRU generation, ie the Least recently used generation</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getLRULoadedGeneration()">getLRULoadedGeneration</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the oldest loaded generation</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getMRUGeneration()">getMRUGeneration</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the last generation, ie the Most recently used generation</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;float</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getMRUGenerationRatio()">getMRUGenerationRatio</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the fill ratio of the last generation (the most recently used)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.io.File</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getNewEntryFile()">getNewEntryFile</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocate a new name for the next cached resource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getNextGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)">getNextGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;gen)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the next generation (in LRU order).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getPrevGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)">getPrevGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;gen)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the previous generation (in LRU order).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getRequiredByteNumber()">getRequiredByteNumber</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get the number of bytes the garbage collector needs to collect
 to keep the cache in good state, it will only move the resource
 to the delete list, another check has to be done to save physical space</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheSerializer.html" title="class in org.w3c.www.protocol.http.cache">CacheSerializer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getSerializer()">getSerializer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the serializer used by the cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/StoreState.html" title="class in org.w3c.www.protocol.http.cache">StoreState</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getState()">getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getStoredByteCount()">getStoredByteCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get the number of bytes used phisycally by this cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheSweeper.html" title="class in org.w3c.www.protocol.http.cache">CacheSweeper</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getSweeper()">getSweeper</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the cache sweeper used by the cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getSyncDelay()">getSyncDelay</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the synchronization delay between to sync, in milliseconds</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheValidator.html" title="class in org.w3c.www.protocol.http.cache">CacheValidator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#getValidator()">getValidator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return the cache validator used by the cache</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#initialize(org.w3c.www.protocol.http.cache.CacheFilter)">initialize</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheFilter.html" title="class in org.w3c.www.protocol.http.cache">CacheFilter</A>&nbsp;filter)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initialize this CacheStore, and get some infos from the parent,
 aka the cache filter</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#loadGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)">loadGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the given generation and unload the LRU loaded
 generation if necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#loadGenerations()">loadGenerations</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the generations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#loadState()">loadState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the store state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#propertyChanged(java.lang.String)">propertyChanged</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property monitoring for the CacheStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#removeResource(org.w3c.www.protocol.http.cache.CacheGeneration, org.w3c.www.protocol.http.cache.CachedResource)">removeResource</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg,
               <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the given CachedResource from the given CacheGeneration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#resizeGeneration(org.w3c.www.protocol.http.cache.CacheGeneration, org.w3c.www.protocol.http.cache.CachedResource)">resizeGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg,
                 <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resize the generation in order to be able to store the given 
 Resource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#saveGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)">saveGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save a generation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#saveState()">saveState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save the current state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource)">storeCachedResource</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store a newly created (or updated) CachedResource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource, long)">storeCachedResource</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr,
                    long&nbsp;oldsize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store a newly created (or updated) CachedResource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#sync()">sync</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;synchronize the internal database with the storage</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#unloadGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)">unloadGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UnLoad a "loaded" generation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#updateResourceGeneration(org.w3c.www.protocol.http.cache.CachedResource)">updateResourceGeneration</A></B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update this cached resource from generation x ot the latest</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#updateSweeperPriority()">updateSweeperPriority</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update the mode of the sweeper according to the state of the 
 cache store,</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CACHE_DIRECTORY_P"><!-- --></A><H3>
CACHE_DIRECTORY_P</H3>
<PRE>
public static final java.lang.String <B>CACHE_DIRECTORY_P</B></PRE>
<DL>
<DD>Name of the property giving the cache's directory.
 This property defaults to the current directory.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.CACHE_DIRECTORY_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STORE_SIZE_P"><!-- --></A><H3>
STORE_SIZE_P</H3>
<PRE>
public static final java.lang.String <B>STORE_SIZE_P</B></PRE>
<DL>
<DD>The name of the properties indicating the storesize of the cache
 (in bytes).
 This property will give the value of the disk-based cache size. This
 value only takes into account the size of the entities saved, not
 the size of the associated headers, and not the physical size on the
 disc.
 <p>This property defaults to <strong>20</strong> Mbytes.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.STORE_SIZE_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GARBAGE_COLLECTION_THRESHOLD_P"><!-- --></A><H3>
GARBAGE_COLLECTION_THRESHOLD_P</H3>
<PRE>
public static final java.lang.String <B>GARBAGE_COLLECTION_THRESHOLD_P</B></PRE>
<DL>
<DD>Name of the property used to knkow the percentage of bytes to be
 kept after a garbage collection
 It defaults to 0.80 (80% of the cache size)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.GARBAGE_COLLECTION_THRESHOLD_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILE_SIZE_RATIO_P"><!-- --></A><H3>
FILE_SIZE_RATIO_P</H3>
<PRE>
public static final java.lang.String <B>FILE_SIZE_RATIO_P</B></PRE>
<DL>
<DD>Name of the property indicating the max size for files to be cached.
 This property gives the ratio (relative to the cache size) of
 the number of bytes a single entry is able to occupy.
 <p>The ratio should be given as a floating point value between 
 <strong>0</strong> and <strong>1</strong>. If set to <strong>0.1
 </strong> and the cache size is <strong>5000000</strong>, files larger
 then <strong>500000</strong> will not be cached (except if garbage
 collection is disbabled).
 <p>This property defaults to <strong>0.1</strong>.
 Note that the generation size will be taken from this threshold
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.FILE_SIZE_RATIO_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GARBAGE_COLLECTION_ENABLED_P"><!-- --></A><H3>
GARBAGE_COLLECTION_ENABLED_P</H3>
<PRE>
public static final java.lang.String <B>GARBAGE_COLLECTION_ENABLED_P</B></PRE>
<DL>
<DD>Name of the property enabling garbage collection of the cache.
 This property defaults to <strong>true</strong>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.GARBAGE_COLLECTION_ENABLED_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SYNCHRONIZATION_DELAY_P"><!-- --></A><H3>
SYNCHRONIZATION_DELAY_P</H3>
<PRE>
public static final java.lang.String <B>SYNCHRONIZATION_DELAY_P</B></PRE>
<DL>
<DD>Name of the property indicating the amount of time in second between
 two synchronization of the database (aka dump on disk)
 Milliseconds
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.SYNCHRONIZATION_DELAY_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GENERATION_COMPACT_DELAY_P"><!-- --></A><H3>
GENERATION_COMPACT_DELAY_P</H3>
<PRE>
public static final java.lang.String <B>GENERATION_COMPACT_DELAY_P</B></PRE>
<DL>
<DD>Name of the property indicating the amount of time in second between
 two attempts to compact generations. In milliseconds
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.GENERATION_COMPACT_DELAY_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MAX_CACHED_RESOURCES_P"><!-- --></A><H3>
MAX_CACHED_RESOURCES_P</H3>
<PRE>
public static final java.lang.String <B>MAX_CACHED_RESOURCES_P</B></PRE>
<DL>
<DD>Name of the property indicating the maximal number of resources
 the cache can load in memory (not the content of the resources)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.MAX_CACHED_RESOURCES_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MAX_GENERATIONS_P"><!-- --></A><H3>
MAX_GENERATIONS_P</H3>
<PRE>
public static final java.lang.String <B>MAX_GENERATIONS_P</B></PRE>
<DL>
<DD>Name of the property indicating the maximal number of generations
 in this cache store
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.MAX_GENERATIONS_P">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GENERATION_FILENAME"><!-- --></A><H3>
GENERATION_FILENAME</H3>
<PRE>
public static final java.lang.String <B>GENERATION_FILENAME</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.w3c.www.protocol.http.cache.CacheStore.GENERATION_FILENAME">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="props"><!-- --></A><H3>
props</H3>
<PRE>
protected <A HREF="../../../../../../org/w3c/util/ObservableProperties.html" title="class in org.w3c.util">ObservableProperties</A> <B>props</B></PRE>
<DL>
<DD>The properties we initialized ourself from.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CacheStore()"><!-- --></A><H3>
CacheStore</H3>
<PRE>
public <B>CacheStore</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="propertyChanged(java.lang.String)"><!-- --></A><H3>
propertyChanged</H3>
<PRE>
public boolean <B>propertyChanged</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Property monitoring for the CacheStore.
 The CacheStore allows you to dynamically (typically through the property
 setter) change the class of the sweeper, the validator, the size...
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/w3c/util/PropertyMonitoring.html#propertyChanged(java.lang.String)">propertyChanged</A></CODE> in interface <CODE><A HREF="../../../../../../org/w3c/util/PropertyMonitoring.html" title="interface in org.w3c.util">PropertyMonitoring</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - The name of the property that has changed.
<DT><B>Returns:</B><DD>A boolean, <strong>true</strong> if the change was made, 
    <strong>false</strong> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getState()"><!-- --></A><H3>
getState</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/StoreState.html" title="class in org.w3c.www.protocol.http.cache">StoreState</A> <B>getState</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSweeper()"><!-- --></A><H3>
getSweeper</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheSweeper.html" title="class in org.w3c.www.protocol.http.cache">CacheSweeper</A> <B>getSweeper</B>()</PRE>
<DL>
<DD>return the cache sweeper used by the cache
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an instance of CacheSweeper</DL>
</DD>
</DL>
<HR>

<A NAME="getSerializer()"><!-- --></A><H3>
getSerializer</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheSerializer.html" title="class in org.w3c.www.protocol.http.cache">CacheSerializer</A> <B>getSerializer</B>()</PRE>
<DL>
<DD>return the serializer used by the cache
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an instance of Serializer</DL>
</DD>
</DL>
<HR>

<A NAME="getValidator()"><!-- --></A><H3>
getValidator</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheValidator.html" title="class in org.w3c.www.protocol.http.cache">CacheValidator</A> <B>getValidator</B>()</PRE>
<DL>
<DD>return the cache validator used by the cache
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>an instance of CacheValidator</DL>
</DD>
</DL>
<HR>

<A NAME="getNextGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)"><!-- --></A><H3>
getNextGeneration</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>getNextGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;gen)</PRE>
<DL>
<DD>Get the next generation (in LRU order).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>gen</CODE> - the current generation
<DT><B>Returns:</B><DD>a generation</DL>
</DD>
</DL>
<HR>

<A NAME="getPrevGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)"><!-- --></A><H3>
getPrevGeneration</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>getPrevGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;gen)</PRE>
<DL>
<DD>Get the previous generation (in LRU order).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>gen</CODE> - the current generation
<DT><B>Returns:</B><DD>a generation</DL>
</DD>
</DL>
<HR>

<A NAME="getMRUGeneration()"><!-- --></A><H3>
getMRUGeneration</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>getMRUGeneration</B>()</PRE>
<DL>
<DD>Get the last generation, ie the Most recently used generation
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a CacheGeneration, the most recently used one</DL>
</DD>
</DL>
<HR>

<A NAME="getMRUGenerationRatio()"><!-- --></A><H3>
getMRUGenerationRatio</H3>
<PRE>
public float <B>getMRUGenerationRatio</B>()</PRE>
<DL>
<DD>Get the fill ratio of the last generation (the most recently used)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLRUGeneration()"><!-- --></A><H3>
getLRUGeneration</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>getLRUGeneration</B>()</PRE>
<DL>
<DD>Get the LRU generation, ie the Least recently used generation
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a CacheGeneration, the least recently used one</DL>
</DD>
</DL>
<HR>

<A NAME="getLRULoadedGeneration()"><!-- --></A><H3>
getLRULoadedGeneration</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>getLRULoadedGeneration</B>()</PRE>
<DL>
<DD>Get the oldest loaded generation
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a generation</DL>
</DD>
</DL>
<HR>

<A NAME="getSyncDelay()"><!-- --></A><H3>
getSyncDelay</H3>
<PRE>
public long <B>getSyncDelay</B>()</PRE>
<DL>
<DD>Get the synchronization delay between to sync, in milliseconds
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a long, the number of milliseconds</DL>
</DD>
</DL>
<HR>

<A NAME="getCompactGenerationDelay()"><!-- --></A><H3>
getCompactGenerationDelay</H3>
<PRE>
public long <B>getCompactGenerationDelay</B>()</PRE>
<DL>
<DD>Get the delay between two attempts to compact the generations.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a long, the number of milliseconds</DL>
</DD>
</DL>
<HR>

<A NAME="addNewGeneration()"><!-- --></A><H3>
addNewGeneration</H3>
<PRE>
protected <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>addNewGeneration</B>()
                                    throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Create and add a new Generation. WARNING, this method is not
 synchronized.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the newly created generation or null if the max number
 of generations is reached or it the current size of the cache
 (in memory) is too big to accept a new generation.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="loadGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)"><!-- --></A><H3>
loadGeneration</H3>
<PRE>
protected <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A> <B>loadGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg)
                                  throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Load the given generation and unload the LRU loaded
 generation if necessary.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cg</CODE> - the generation to load
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="unloadGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)"><!-- --></A><H3>
unloadGeneration</H3>
<PRE>
protected void <B>unloadGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg)
                         throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>UnLoad a "loaded" generation. WARNING: not synchronized.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - loaded generation
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="saveGeneration(org.w3c.www.protocol.http.cache.CacheGeneration)"><!-- --></A><H3>
saveGeneration</H3>
<PRE>
protected void <B>saveGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg)
                       throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Save a generation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - generation to be saved
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="loadGenerations()"><!-- --></A><H3>
loadGenerations</H3>
<PRE>
protected void <B>loadGenerations</B>()
                        throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Load the generations. Only a subset of the generations will 
 actually be loaded, some generations will only have a description
 (URLs, size) in memory.
 This method load some generations (until cr_limit is reached) and the
 remaining generations (if any) will only be a set of 
 CachedResourceDescription.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadState()"><!-- --></A><H3>
loadState</H3>
<PRE>
protected void <B>loadState</B>()</PRE>
<DL>
<DD>Load the store state
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="saveState()"><!-- --></A><H3>
saveState</H3>
<PRE>
protected void <B>saveState</B>()</PRE>
<DL>
<DD>Save the current state
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRequiredByteNumber()"><!-- --></A><H3>
getRequiredByteNumber</H3>
<PRE>
public long <B>getRequiredByteNumber</B>()</PRE>
<DL>
<DD>get the number of bytes the garbage collector needs to collect
 to keep the cache in good state, it will only move the resource
 to the delete list, another check has to be done to save physical space
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a long, the number of bytes to save</DL>
</DD>
</DL>
<HR>

<A NAME="getCachedByteCount()"><!-- --></A><H3>
getCachedByteCount</H3>
<PRE>
public long <B>getCachedByteCount</B>()</PRE>
<DL>
<DD>get the cached size of this cache
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a long, the number of bytes cached</DL>
</DD>
</DL>
<HR>

<A NAME="getStoredByteCount()"><!-- --></A><H3>
getStoredByteCount</H3>
<PRE>
public long <B>getStoredByteCount</B>()</PRE>
<DL>
<DD>get the number of bytes used phisycally by this cache
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a long, the number of bytes cached</DL>
</DD>
</DL>
<HR>

<A NAME="getCachedByteFree()"><!-- --></A><H3>
getCachedByteFree</H3>
<PRE>
public long <B>getCachedByteFree</B>()</PRE>
<DL>
<DD>get the number of bytes available for the cache memory
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a long, the number of bytes free</DL>
</DD>
</DL>
<HR>

<A NAME="sync()"><!-- --></A><H3>
sync</H3>
<PRE>
public void <B>sync</B>()</PRE>
<DL>
<DD>synchronize the internal database with the storage
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeResource(org.w3c.www.protocol.http.cache.CacheGeneration, org.w3c.www.protocol.http.cache.CachedResource)"><!-- --></A><H3>
removeResource</H3>
<PRE>
protected void <B>removeResource</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg,
                              <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)
                       throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/NoSuchResourceException.html" title="class in org.w3c.www.protocol.http.cache">NoSuchResourceException</A></PRE>
<DL>
<DD>Remove the given CachedResource from the given CacheGeneration.
 WARNING: not synchronized
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/NoSuchResourceException.html" title="class in org.w3c.www.protocol.http.cache">NoSuchResourceException</A></CODE> - if this resource was not in this 
 generation</DL>
</DD>
</DL>
<HR>

<A NAME="getCachedResource(java.lang.String)"><!-- --></A><H3>
getCachedResource</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A> <B>getCachedResource</B>(java.lang.String&nbsp;url)
                                 throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Get a cached resource relative to the given URL. WARNING: the
 CachedResource returned is no more in the CacheStore.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL of the CachedResource
<DT><B>Returns:</B><DD>a CachedResource or null
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted<DT><B>See Also:</B><DD><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource)"><CODE>storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCachedResource(org.w3c.www.protocol.http.cache.CachedResource)"><!-- --></A><H3>
getCachedResource</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A> <B>getCachedResource</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)
                                 throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>extract a cached resource from the store
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - cached resource to be extracted
<DT><B>Returns:</B><DD>the extracted cached resource
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="resizeGeneration(org.w3c.www.protocol.http.cache.CacheGeneration, org.w3c.www.protocol.http.cache.CachedResource)"><!-- --></A><H3>
resizeGeneration</H3>
<PRE>
protected void <B>resizeGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheGeneration.html" title="class in org.w3c.www.protocol.http.cache">CacheGeneration</A>&nbsp;cg,
                                <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)</PRE>
<DL>
<DD>Resize the generation in order to be able to store the given 
 Resource.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cg</CODE> - the generation to resize<DD><CODE>cr</CODE> - the CachedResource to store.</DL>
</DD>
</DL>
<HR>

<A NAME="getCachedResourceReference(java.lang.String)"><!-- --></A><H3>
getCachedResourceReference</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A> <B>getCachedResourceReference</B>(java.lang.String&nbsp;url)
                                          throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Get a cached resource relative to the given URL. WARNING: the
 CachedResource returned is still in the cache store!
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL of the CachedResource
<DT><B>Returns:</B><DD>a CachedResource or null
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted<DT><B>See Also:</B><DD><A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheStore.html#storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource)"><CODE>storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="updateResourceGeneration(org.w3c.www.protocol.http.cache.CachedResource)"><!-- --></A><H3>
updateResourceGeneration</H3>
<PRE>
public <A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A> <B>updateResourceGeneration</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)
                                        throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>update this cached resource from generation x ot the latest
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>the</CODE> - cached resource to be updated
<DT><B>Returns:</B><DD>the updated
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource)"><!-- --></A><H3>
storeCachedResource</H3>
<PRE>
public boolean <B>storeCachedResource</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr)
                            throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Store a newly created (or updated) CachedResource.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cr</CODE> - the CachedResource to store
<DT><B>Returns:</B><DD><code>true</code> if the resource has been cached
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="storeCachedResource(org.w3c.www.protocol.http.cache.CachedResource, long)"><!-- --></A><H3>
storeCachedResource</H3>
<PRE>
public boolean <B>storeCachedResource</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CachedResource.html" title="class in org.w3c.www.protocol.http.cache">CachedResource</A>&nbsp;cr,
                                   long&nbsp;oldsize)
                            throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>Store a newly created (or updated) CachedResource.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cr</CODE> - the CachedResource to store
<DT><B>Returns:</B><DD><code>true</code> if the resource has been cached
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache is corrupted</DL>
</DD>
</DL>
<HR>

<A NAME="getNewEntryFile()"><!-- --></A><H3>
getNewEntryFile</H3>
<PRE>
protected java.io.File <B>getNewEntryFile</B>()</PRE>
<DL>
<DD>allocate a new name for the next cached resource. This method
 create some directories if needed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a File, used to dump the entry</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="checkDirs()"><!-- --></A><H3>
checkDirs</H3>
<PRE>
protected void <B>checkDirs</B>()</PRE>
<DL>
<DD>Check the subdirectories. Create them if necessary.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="cleanCacheDir()"><!-- --></A><H3>
cleanCacheDir</H3>
<PRE>
protected int <B>cleanCacheDir</B>()</PRE>
<DL>
<DD>Clean the Cache directory, remove unused files.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of files deleted.</DL>
</DD>
</DL>
<HR>

<A NAME="updateSweeperPriority()"><!-- --></A><H3>
updateSweeperPriority</H3>
<PRE>
protected void <B>updateSweeperPriority</B>()</PRE>
<DL>
<DD>update the mode of the sweeper according to the state of the 
 cache store,
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="compactGenerations()"><!-- --></A><H3>
compactGenerations</H3>
<PRE>
protected void <B>compactGenerations</B>()</PRE>
<DL>
<DD>Compact our generations
 The algorithm is the following,
 If the number of generation is the maximum number allowed, 
 then a check is done from the the generation after the MRU one
 and if the sum of two generation can fit into one, it is done, and
 the generation is removed from the list
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="checkState()"><!-- --></A><H3>
checkState</H3>
<PRE>
protected void <B>checkState</B>()</PRE>
<DL>
<DD>used for debugging, display some internal information about the state 
 of the cache
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initialize(org.w3c.www.protocol.http.cache.CacheFilter)"><!-- --></A><H3>
initialize</H3>
<PRE>
public void <B>initialize</B>(<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheFilter.html" title="class in org.w3c.www.protocol.http.cache">CacheFilter</A>&nbsp;filter)
                throws <A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></PRE>
<DL>
<DD>initialize this CacheStore, and get some infos from the parent,
 aka the cache filter
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>filter</CODE> - a CacheFilter, our parent
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/w3c/www/protocol/http/cache/InvalidCacheException.html" title="class in org.w3c.www.protocol.http.cache">InvalidCacheException</A></CODE> - if the cache not initialized</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheState.html" title="class in org.w3c.www.protocol.http.cache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/w3c/www/protocol/http/cache/CacheSweeper.html" title="class in org.w3c.www.protocol.http.cache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/w3c/www/protocol/http/cache/CacheStore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CacheStore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
